"use strict";!function(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:null};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt});var screenChangeEvent=new CustomEvent("screenchange");function changeScreenMode(){var realWidth=window.innerWidth,screenMode="desktop";realWidth<768?screenMode="mobile":realWidth<1260&&(screenMode="tablet"),window.screenMode!==screenMode&&(window.screenMode=screenMode,window.dispatchEvent(screenChangeEvent))}document.addEventListener("DOMContentLoaded",(function(){changeScreenMode(),window.addEventListener("resize",changeScreenMode)}));var pageTitle=document.title;if(-1!==pageTitle.indexOf("<")){var titleContent=document.createElement("div");titleContent.innerHTML=pageTitle,document.title=titleContent.innerText}document.addEventListener("keydown",(function tabAllyHandler(evt){9===evt.keyCode&&(document.documentElement.classList.add("tab-a11y"),document.documentElement.classList.add("tab-a11y_prepare"),setTimeout((function(){document.documentElement.classList.remove("tab-a11y_prepare")}),300),document.removeEventListener("keydown",tabAllyHandler))}));var ridQueryCache={},UTIL={log:function(){},MAX_LEN:100,truncText:function(elements,maxLength){for(var lx=elements.length,i=0;i<lx;i++){for(var element=elements[i],words=element.innerText.split(" "),nWords=words.length,textShorten="",j=0;j<nWords;j++){if(!(textShorten.length+words[j].length+1<maxLength)){textShorten+="...";break}textShorten+=" "+words[j]}element.innerText=textShorten}},truncChildren:function(elements,childKey,maxLength){for(var lx=elements.length,i=0;i<lx;i++)for(var elementChildren=elements[i].querySelectorAll(childKey),nChildren=elementChildren.length,nodeLength=0,j=0;j<nChildren;j++){var child=elementChildren[j];(nodeLength+=child.innerText.length)>maxLength&&(child.parentNode.style.display="none")}},applyInstances:function(collection,Constructor,set){if(!set)set=[];if(collection)for(var i=0;i<collection.length;i++)set.push(new Constructor(collection[i]))},debounce:function(cb,timeout){var isCooldown=!1;return function(){isCooldown||(cb.apply(this,arguments),isCooldown=!0,setTimeout((function(){isCooldown=!1}),timeout||33))}},getTargetPath:function(evt){if(evt.path)return evt.path;for(var path=[],target=evt.target;target;)path.push(target),target=target.parentElement;return path},getScrollbarWidth:function(){var div=document.createElement("div");div.style.overflowY="scroll",div.style.width="50px",div.style.height="50px",div.style.visibility="hidden",document.body.appendChild(div);var scrollWidth=div.offsetWidth-div.clientWidth;return document.body.removeChild(div),scrollWidth},declension:function(n,titles){return titles[n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2]},removeElement:function(element){element.parentNode.removeChild(element)},time:function(label,end){window.PAGEDATA.params["j-profile"]&&console[end?"timeEnd":"time"]("TIME "+label)},getHandlebarsTpl:function(){var TPL={};return $(".handlebars-template").each((function(){var key=$(this).data("key");!0===$(this).data("partial")?Handlebars.registerPartial(key,this.innerHTML):TPL[key]=Handlebars.compile(this.innerHTML)})),TPL},sh_media:function(media_id){return"/api/media/resources/"+media_id},addServiceParams:function(url){return""},getServiceParams:function(){return""},setInitialFocus:function(){var el=document.querySelector(".j-initial-focus");el&&el.focus()},leftpad:function(str,len,ch){void 0===len&&(len=2),void 0===ch&&(ch="0");var i=-1;for(len-=(str=String(str)).length;++i<len;)str=ch+str;return str},formatSum:function(sum){var sumArr=String(sum).split("."),integer=0|sumArr[0];if(0===(0|sumArr[1]))return integer.toLocaleString();var sumArr2=Number(sum).toFixed(2).split(".");return sumArr2[0]=Number(sumArr2[0]).toLocaleString(),sumArr2.join(".")},dialogMessage:function(stringOrWrap,customOpts){if("function"==typeof $.fn.dialog){var $msgWrap;if(!0!==UTIL.dialogMessage.dontPreventFocus&&($.ui.dialog.prototype._focusTabbable=$.noop,UTIL.dialogMessage.dontPreventFocus=!0),stringOrWrap instanceof $==!0)$msgWrap=stringOrWrap;else if("string"==typeof stringOrWrap)if("."===stringOrWrap.charAt(0)){var $el=$(stringOrWrap);0!==$el.length?$msgWrap=$el.eq(0):window.UTIL.log("Метод alert. Передан селектор "+str+", но элемент не найден")}else $msgWrap=$('<div class="jqui-dialog-message">'+stringOrWrap+"</div>");else $msgWrap=$(".jqui-dialog-message");if(0!==$msgWrap.length){$msgWrap.length>1&&console.warn("Ахтунг! Передано более одного элемента, будет показан первый",$msgWrap);var maxWidth="REDESIGN"===window.PAGEDATA.theme||"RZD2012"===window.PAGEDATA.theme?900:$(window).width()/10*9,defaultOpts={modal:!0,dialogClass:"jqui-dialog-no-titlebar",width:"ЗДЕСЬ ПРИХОДИТСЯ ИМЕТЬ ФЕЙКОВОЕ НЕВАЛИДНОЕ ЗНАЧЕНИЕ",maxHeight:$(window).height()-50,create:function(event,ui){$(event.target).parent().css("position","fixed")},open:function(event,ui){var w=Math.min(maxWidth,$msgWrap.outerWidth()+30);$(event.target).dialog("option","width",w),$(this).attr("tabindex","0"),$(this).focus()},resizeable:!1};customOpts&&customOpts.buttons||(defaultOpts.buttons={OK:function(evt){$(this).dialog("close")}});var opts=customOpts?$.extend(defaultOpts,customOpts):defaultOpts;return $(".ui-widget-overlay").on("click",(function(){$msgWrap.dialog("close")})),$msgWrap.dialog(opts)}console.error("Ошибка элемента с контентом: элемент не найден",$msgWrap)}else console.error("jQueryUI Dialog не подключён!")},formatStr:function(txt,data,delim){var d1,d2;for(var key in delim&&delim.constructor===Array&&2===delim.length?(d1=delim[0],d2=delim[1]):(d1="{",d2="}"),data)txt=txt.split(d1+key+d2).join(data[key]);return txt},datePickerOpts:window.Lang?datePickerLoc():{},getSelectedText:function(){var text="";return void 0!==window.getSelection?text=window.getSelection().toString():void 0!==document.selection&&"Text"==document.selection.type&&(text=document.selection.createRange().text),text},isJQueryInstance(obj){return void 0!==obj.__proto__.jquery},getNodeFromJQuery(obj){return window.UTIL.isJQueryInstance(obj)?obj[0]:obj},clearSelect:function(field){var select=(field=window.UTIL.getNodeFromJQuery(field)).closest(".select");select&&select.querySelector(".select__default").click()},clearMultiSelect:function(field){var multiselect=(field=window.UTIL.getNodeFromJQuery(field)).closest(".multiselect__item");multiselect&&multiselect.querySelector(".multiselect__remove").click()},tooltipHandler:function(){var $content=$(this).find(".tooltip-ask__content:not(.tooltip-ask__content_right)");if($content.length){$content.css({left:0});var rightDiff=$content[0].getBoundingClientRect().right-window.innerWidth;$content.css({left:(rightDiff>0?-rightDiff:0)+"px"})}},spoilerHandler:function(){this.classList.toggle("active"),this.blur()},truncateUrlLinks:function(){$(".j-url-link").each((function(){var $mailLink=$(this),selfWindth=$mailLink.width(),parentWidth=$mailLink.parent().width();$mailLink.css({width:""}),selfWindth&&selfWindth<parentWidth?$mailLink.removeClass("url-link"):$mailLink.css({width:parentWidth+"px"}).addClass("url-link")}))},setAcsblLink:function(){var href=window.location.href,hash=window.location.hash;href=href.replace(hash,""),window.isAcsbl?-1===(href=href.replace(/(&|\?)accessible=true/g,"")).indexOf("?")&&href.indexOf("&")>-1&&(href=href.replace("&","?","")):href+=(-1===href.indexOf("?")?"?":"&")+"accessible=true",href=(href=href.replace(/#(&|\?)/,"$1")).replace(/[&?]$/,""),$(".j-acsbl-switcher").attr("href",href+hash)},initSwitcher:function(i,block){if(!window.switchers.find((item=>item===block))){var $switch=$(block),$details=$switch.find(".j-switch-details"),$toggler=$switch.find(".j-switch-toggle"),$hide=$toggler.find(".j-switch-hide"),$unhide=$toggler.find(".j-switch-unhide");$toggler.on("click",(function(evt){evt.preventDefault(),$details.toggleClass("hidden"),$hide.toggleClass("hidden"),$unhide.toggleClass("hidden")})),window.switchers.push(block)}},init:{common:function(type){if(UTIL.init.jqueryExtras(),UTIL.init.tsp(),UTIL.init.editorSpoilers(),UTIL.init.presentations(),UTIL.init.iconsFromWysiwyg(),UTIL.init.photoSlider(),UTIL.init.interactiveMaps(),UTIL.init.liveCharts(),UTIL.init.flvVideos(),setTimeout((()=>UTIL.init.resetVideos()),500),UTIL.init.tooltips(),UTIL.init.table2(),UTIL.init.separable(),UTIL.init.banner(),window.PAGEDATA.is_adaptive){function clickLineHandler(evt){var $self=$(this),noLeftClick=evt.which&&1!==evt.which,$table=$self.closest(".table-wrap"),isSwiped=Math.abs($table[0].scrollLeft-$table.data("offset"))>20,isScrolled=Math.abs($table[0].getBoundingClientRect().top-$table.data("offsetTop"))>20,isClickBtn="button"===evt.target.tagName.toLowerCase();window.UTIL.getSelectedText()||isSwiped||isScrolled||noLeftClick||isClickBtn||(window.location.href=$self.data("href"))}document.documentElement.style.setProperty&&document.documentElement.style.setProperty("--scrollbar-width",UTIL.getScrollbarWidth()+"px"),$(".table__clickline").on("mouseup",clickLineHandler),$(".table__clickline").on("touchend",clickLineHandler),$(".table-wrap").on("mousedown touchstart",UTIL.init.tableOffsetHandler),UTIL.init.prepareStaticTables(),UTIL.init.prepareSpoilers()}!0===window.PAGEDATA.bAccessible&&UTIL.setInitialFocus(),window.switchers=[],$((function(){UTIL.truncateUrlLinks(),$(window).on("resize",UTIL.truncateUrlLinks),UTIL.setAcsblLink(),$(".j-switch").each(UTIL.initSwitcher)}))},separable(list=document.querySelectorAll(".separable")){for(const el of list){const{symbol:symbol="/"}=el.dataset,regex=`\\s*(&hairsp;)*${symbol}\\s*(&hairsp;)*`,html=el.innerHTML.replace(new RegExp(regex,"g"),`&hairsp;${symbol}&hairsp;`);el.innerHTML=html}},tooltips:function(){$(".tooltip-ask").on("focus mouseenter",UTIL.tooltipHandler)},editorSpoilers:function(){var $spoilerText=$(".j__spoiler-text"),$spoilerToggle=$(".j__spoiler-toggle");$spoilerText.length>0&&$spoilerToggle.length>0&&$spoilerToggle.on("click",(function(){$(this).toggleClass("active"),$(this).next().toggle()}))},prepareSpoilers:function(){-1==window.location.hash.slice(1).indexOf("=")&&(window.location.hash.slice(1)&&$(".details-summary"+window.location.hash).addClass("active"),$(".details-summary:not([onclick])").off("click",UTIL.spoilerHandler).on("click",UTIL.spoilerHandler),$(".details .table").addClass("table_side-spaced"))},prepareStaticTables:function(){$(".static-content .Striped").addClass("table"),$(".static-content .table, .static-content .table2-tbl").each((function(){var $table=$(this);$table.parent().hasClass("table-wrap")||($table.wrap('<div class="table-wrap"></div>'),$table.parent().on("mousedown touchstart",UTIL.init.tableOffsetHandler))}))},tableOffsetHandler:function(){$(this).data("offset",this.scrollLeft).data("offsetTop",this.getBoundingClientRect().top)},presentations:function(){window.Pion={init:function(){Pion.$holderz=$(".pion_holder"),0!==Pion.$holderz.length&&Pion.getScripts()},construct:function($container){var that=this;that.cont=$container,that.panelsWrap=that.cont.find(".sliderkit-panels"),that.panelz=that.panelsWrap.find(".sliderkit-panel"),that.nav=that.cont.find(".sliderkit-nav"),that.bindTrigger=function(){that.cont.find(".sliderkit-navTrigger").on("click",(function(evt){that.navToggle(),document.querySelector(".sliderkit-navTrigger").classList.toggle("active")})),$(document).keydown((function(e){27==e.keyCode&&(that.navToggle(),document.querySelector(".sliderkit-navTrigger").classList.toggle("active")),37==e.keyCode&&that.cont.find(".sliderkit-go-prev").click(),39==e.keyCode&&that.cont.find(".sliderkit-go-next").click()}))},that.bindTriggerFull=function(){that.cont.find(".sliderkit-go-full").on("click",(function(){$(this).toggleClass("active"),$("body").toggleClass("fullscreen_body"),$(this).parents(".pion_holder").toggleClass("pion_holder-fixed")}))},that.navToggle=function(e){that.nav.toggle()},that.init=function(){that.cont.sliderkit(that.skparams),that.bindTrigger(),that.bindTriggerFull(),that.cont.addClass("sliderkit-loaded")},that.skparams={auto:!1,autospeed:1e3*(that.panelsWrap.data("custom_speed")||5),tabs:1,circular:1,counter:!0,panelfx:"sliding",panelfxeasing:"easeInOutExpo",panelfxafter:function(){var currSK=that.cont.data("sliderkit");currSK&&0===currSK.currId&&(currSK.autoScrollStop(),currSK.playBtnPause())}}},start:function($container){var pionz=pionz||[],$whereToApply=$container||$;$($whereToApply.find(".sliderkit")).each((function(i){pionz.push(new Pion.construct($(this))),pionz[i].init()})),$container&&6==$container.html().toString().length&&$container.hide()},getScripts:function(){for(var scriptz=["/st/as-is/jquery.easing.1.3.min.js","/st/as-is/jquery.sliderkit.1.9.2.pack.js","/st/as-is/sliderkit.counter.1.0.pack.js","/st/as-is/jquery.waitforimages.min.js"],scriptz_cnt=0,i=0;i<=scriptz.length;i++)$.get(scriptz[i],(function(data){scriptz_dispatch()})),$.getScript("/st/as-is/sliderkit.counter.1.0.pack.js");var scriptz_dispatch=function(){++scriptz_cnt===scriptz.length&&68650!==window.PAGEDATA.page_id&&Pion.getMarkup()}},getMarkup:function(){var pathName="/"+window.PAGEDATA.lang+"/"+window.PAGEDATA.nav_id+"/page/5642",pion_card_url=location.protocol+"//"+location.host+pathName+"?layer_name=Pion_card";Pion.$holderz.each((function(i){var H=Pion.$holderz.eq(i);$.get(pion_card_url+"&id="+Pion.$holderz.eq(i).data("pion_id"),(function(data){var $data=$(data),$pion_markup=$data.find(".sliderkit").filter("[data-pion_id="+H.data("pion_id")+"]"),$tar_markup=$data.find(".tar").filter("[data-pion_id="+H.data("pion_id")+"]"),$name_markup=$data.find(".pb-card-nameBlock");$pion_markup.length||H.addClass("pion_empty"),H.append($name_markup).append($pion_markup).append($tar_markup).addClass("pion_holder-loaded").waitForImages((function(){Pion.start($(this))}))}))}))}},1e4!==window.PAGEDATA.page_id&&Pion.init()},iconsFromWysiwyg:function(){const icons=document.querySelectorAll("[data-icons_id]");if(!icons.length)return;const iconIds=new Set;for(const icon of icons)iconIds.add(icon.dataset.icons_id);const{lang:lang,nav_id:nav_id}=window.PAGEDATA,url=`/${lang}/${nav_id}/page/1085601?id=${[...iconIds].join("&id=")}&mode=json`;$.get(url,(({ICONS_LIST:ICONS_LIST})=>{const{ICONS:ICONS}=ICONS_LIST,iconsList=Array.isArray(ICONS)?ICONS:[ICONS];for(const iconData of iconsList){const{ID:ID,ALT:ALT}=iconData;for(const icon of document.querySelectorAll(`[data-icons_id="${ID}"]`))if(window.isAcsbl){if(ALT){const iconTextElement=document.createElement("span");iconTextElement.textContent=`[${ALT}]`,icon.insertAdjacentElement("afterend",iconTextElement)}icon.remove()}else icon.alt=iconData.ALT||""}}))},photoSlider:function(){var pSlider=document.querySelectorAll(".photo-slider");($(".photoreports_holder").length||pSlider.length)&&($("head").append('<link rel="stylesheet" href="/st/css/adaptive/gallery.css"/>'),$.getScript("/st/js/dist/photo-slider.js").done((function(resp){pSlider.length&&$(".photo-slider").each((function(){new PhotoSlider(this)})),$(".photoreports_holder").removeAttr("tabindex").addClass("gallery-advanced-wrap photo-slider").each((function(index,holderElement){var isEng="en"===window.PAGEDATA.lang,photorepId=holderElement.getAttribute("data-photoreports_id"),reportUrl="/"+window.PAGEDATA.lang+"/page/105689?mode=json&id="+photorepId;new PhotoSlider(holderElement,{url:reportUrl,id:photorepId,isEng:isEng})}))})).fail((function(jqXHR,errName,errText){console.log("Ошибка получения photo-slider.js",jqXHR,errName,errText)})))},interactiveMaps:function(){this.$holderz=document.querySelectorAll(".imaps_holder"),0!==this.$holderz.length&&$.getScript("/st/js/ifr/imaps-2019.js").success((()=>{this.$holderz.forEach((holder=>{new IMap(holder)}))})).error((function(){console.log("Ошибка получения или парсинга скрипта live-charts.js")}))},liveCharts:function(){var $liveCharts=$(".livecharts_holder");0!==$liveCharts.length&&$.getScript("/st/js/ifr/live-charts.js").success((function(){window.LCH.initFront($liveCharts)})).error((function(){console.log("Ошибка получения или парсинга скрипта live-charts.js")}))},flvVideos:function(){var $FLVs=$("video").filter((function(){var $this=$(this),src=$this.children("source").attr("src"),isFLV=/^.*\.FLV$/im.test(src);return isFLV&&$this.data("source",src),isFLV}));0!==$FLVs.length&&(bFlashIsOK?$.getScript("/st/as-is/flowplayer/flowplayer.js",(function(){for(var i=0,len=$FLVs.length;i<len;i++){var $currentVid=$FLVs.eq(i),$wrap=$('<a href="'+$currentVid.data("source")+'" style="display:block;width:'+$currentVid.attr("width")+"px;height:"+$currentVid.attr("height")+'px;"></a>');$currentVid.replaceWith($wrap),flowplayer($wrap[0],"/st/as-is/flowplayer/flowplayer.swf",{clip:{autoPlay:!1,autoBuffering:!1},play:{replayLabel:"Воспроизвести сначала"}})}})):$FLVs.replaceWith('<div class="warningBlock">Для проигрывания видео необходим <a href="https://get.adobe.com/ru/flashplayer/">Adobe Flash Player</a></div>'))},resetVideos:function(){const videos=document.querySelectorAll("video");if(videos){videos.forEach((video=>{let parentContainer=video.closest(".video__container"),test=video.getAttribute("style");if(parentContainer)parentContainer.style.cssText=`${test}`;else{video.setAttribute("preload","none"),video.removeAttribute("controls");let newVideoContainer=document.createElement("div");newVideoContainer.className="video__container",newVideoContainer.style.cssText=`${test}`,video.parentNode.insertBefore(newVideoContainer,video),newVideoContainer.appendChild(video)}}));const videoContainers=document.querySelectorAll(".video__container");let playedVideoRightNow;if(videoContainers){const playedVideo=item=>{let video=item.querySelector("video");playedVideoRightNow==item&&item.classList.contains("_played")||(playedVideoRightNow=item,videos.forEach((v=>{v.pause(),v.removeAttribute("controls"),v.closest(".video__container").classList.remove("_played")})),setTimeout((()=>{video.play(),video.setAttribute("controls","controls"),item.classList.add("_played")}),100))};videoContainers.forEach((item=>{item.querySelector("video")?.setAttribute("tabindex","0"),item.addEventListener("click",(e=>{playedVideo(item)})),item.addEventListener("keypress",(e=>{"Enter"===e.key&&playedVideo(item)}))}))}}},logo:function(){var Utils_getFlashVersion=function(){var d,m,n=navigator,f="Shockwave Flash";if((m=n.mimeTypes)&&(m=m["application/x-shockwave-flash"])&&m.enabledPlugin&&(n=n.plugins)&&n[f])d=n[f].description;else if(window.ActiveXObject)try{d=new ActiveXObject((f+"."+f).replace(/ /g,"")).GetVariable("$version")}catch(e){}return d?d.replace(/\D+/,"").split(/\D+/):[0,0]},bBrowserIsIE=-1!==window.navigator.userAgent.indexOf("MSIE")||-1!==navigator.appVersion.indexOf("Trident"),bBrowserIsSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bFlashIsOK=Utils_getFlashVersion()[0]>=6;$(document.body).addClass("body_msie-"+bBrowserIsIE+" body_flash-"+bFlashIsOK+" body_safari-"+bBrowserIsSafari)},ecoCalc:function(){$(document).delegate(".j-eco-calc","click",(function(){UTIL.dialogMessage($("#eco_calc"))}))},banner:function(){for(var params={nav_id:PAGEDATA.nav_id,bnpl:[]},ePlaces=document.querySelectorAll(".banner-place"),i=0;i<ePlaces.length;i++)params.bnpl.push(ePlaces[i].getAttribute("place"));0!==params.bnpl.length&&$.getJSON("/banner/"+PAGEDATA.lang+"?"+$.param(params,!0)).done((function(res){for(var k=0;k<res.places.length;k++)for(var j=0;j<ePlaces.length;j++)if(ePlaces[j].getAttribute("place")==res.places[k].id){ePlaces[j].innerHTML=res.places[k].content;break}})).fail((function(thrown){console.error("Error loading banners",thrown)})).always((function(){}))},jqueryExtras:function(){"function"==typeof $&&"fn"in $&&($.fn.filterData=function(key,value){return this.filter((function(){return $(this).data(key)==value}))},$.fn.serializeObject=function(){var o={},a=this.serializeArray();return $.each(a,(function(){o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""})),o},$.fn.loadObject=function(data){return this.find(":input").each((function(){void 0!==data[this.name]&&("checkbox"===this.type?this.checked=""!==data[this.name]&&0!==data[this.name]:this.value=decodeURIComponent(data[this.name]))})),this},$.fn.jqui_tooltip=function(optionsOverride){return $(this).each((function(){var $this=$(this),titleVal=$this.attr("title");void 0!==titleVal&&!1!==titleVal||$this.attr("title"," ");var key=$this.data("tooltip-key"),selector=$this.data("tooltip-selector"),cont="";if(cont=window.Tooltips&&window.Tooltips[key]?window.Tooltips[key]:selector?$(selector).html():this.title,"null"===(cont=$.trim(cont)))return $this.attr("title",""),!0;var optionsStd={show:!1,hide:!1,content:cont},options=optionsOverride?$.extend(optionsStd,optionsOverride):optionsStd;options&&!0===options._useDelegation?!0!==$this.data("has-tooltip")&&$this.data("has-tooltip",!0).tooltip(options).trigger("mouseenter"):$this.tooltip(options)}))},$.fn.clearForm=function(includeHidden){return this.each((function(){$("input,select,textarea",this).clearFields(includeHidden)}))},$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var $self=$(this),t=this.type,tag=this.tagName.toLowerCase();re.test(t)||"textarea"==tag?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==tag?this.selectedIndex=0:"file"==t?/MSIE/.test(navigator.userAgent)?$self.replaceWith($self.clone(!0)):$self.val(""):includeHidden&&(!0===includeHidden&&/hidden/.test(t)||"string"==typeof includeHidden&&$self.is(includeHidden))&&(this.value=""),window.UTIL.clearSelect($self),window.UTIL.clearMultiSelect($self)}))},jQuery.getScript_multiple=function(opts){for(var bWithCache=opts.cache||!1,progress=0,errorFlag_global=!1,i=0,len=opts.scriptUrlsArray.length;i<len;i++){var src=opts.scriptUrlsArray[i];!function(src){$.ajax({url:src,dataType:"script",success:function(){internalCallback(src,!1,arguments)},error:function(){internalCallback(src,!1,arguments)},cache:bWithCache})}(src),UTIL.log("   Иницирована загрузка "+src+(!0===bWithCache?"":" (с принудительным сбросом кеша)"))}function internalCallback(src,errorFlag_current,jqXHR_args){!0===errorFlag_current?(errorFlag_global=!0,UTIL.log("   Ошибка загрузки ресурса "+src+". Детали: "),UTIL.log(jqXHR_args)):UTIL.log("   Успешно загружен скрипт: "+src),++progress===opts.scriptUrlsArray.length&&(!1===errorFlag_global?"function"==typeof opts.successCallback&&opts.successCallback():("function"==typeof opts.errorCallback&&opts.errorCallback(),UTIL.log("Произошла ошибка загрузки ресурсов. Пожалуйста, попробуйте перезагрузить страницу.")))}})},tsp:function(){var $tables_sort=$(".TSP_hasSort"),$tables_pagi=$(".TSP_hasPagi"),$tables_all=$tables_sort.add($tables_pagi);if(0!==$tables_all.length){var scriptUrlsArray=["/st/as-is/jquery-tablesorter/jquery.tablesorter.min.js"];0!==$tables_pagi.length&&(scriptUrlsArray.push("/st/as-is/jquery-tablesorter/jquery.tablesorter.pager.min.js"),scriptUrlsArray.push("/st/as-is/jquery-tablesorter/pager-custom-controls.js")),$.getScript_multiple({scriptUrlsArray:scriptUrlsArray,successCallback:function go(){$tables_all.each((function(ind,el){var $table=$(this),$headTR=$table.find("tr").filter((function(){return"TFOOT"!==this.parentNode.tagName})).eq(0),$thead=$table.children("thead");0===$thead.length?$thead=$('<thead class="TSP_theadCreatedOnTheFly"/>').prependTo($table).prepend($headTR):1!==$thead.children("tr").length&&$table.is($tables_sort);var headTRcontent=$headTR.html().replace(/<td/g,"<th").replace(/<\/td/g,"</th");$headTR.html(headTRcontent);for(var sorterOpts={},$headCells=$thead.find("th, td"),i=0,len=$headCells.length;i<len;i++){var bColumnIsSortable=$headCells.eq(i).hasClass("TSP_sortCol");sorterOpts[i]={sorter:bColumnIsSortable},$headCells.eq(i).hasClass("TSP_sortCol")&&$('<span class="sorter"><svg class="sorter__icon" aria-hidden="true" role="presentation"><use xmlns:xlink="." xlink:href="/st/img/svg/adaptive_sprite.svg#sorting"></use></svg></span>').appendTo($headCells.eq(i))}if($table.tablesorter({dateFormat:"ddmmyyyy",widthFixed:!0,cssHeader:"TSP_header",cssDesc:"TSP_header-desc sorter_desc",cssAsc:"TSP_header-asc sorter_asc",headers:sorterOpts,duplicateSpan:!0}),$table.is($tables_pagi)){var pagiQty=0|$table.data("tsp_pagiqty");0===pagiQty&&(pagiQty=10),setTimeout((function(){if($.tablesorter&&$.tablesorter.customPagerControls){$table.after('<div class="TSP_pager TSP_pager-'+ind+'"><div class="TSP_pager_wrap"><a href="javascript:void(0)" class="page-item page-item--prev prev"><svg class="small__arrow"><use xlink:href="/st/img/svg/adaptive_sprite.svg#arrowLeft" /></svg> назад</a><div class="page_wrap-number"></div><a href="javascript:void(0)" class="page-item page-item--next next">дальше <svg class="small__arrow"><use xlink:href="/st/img/svg/adaptive_sprite.svg#arrowRight" /></svg></a</div></div>');var $pager=$table.next();$.tablesorter.customPagerControls({table:$table,pager:$pager,containerPages:".TSP_pager_wrap a",ends:2,aroundCurrent:1,link:'<a class="page-item" href="#">{page}</a>',currentClass:"current",adjacentSpacer:"",distanceSpacer:"<span> &#133; <span>",pageKeyStep:10}),$table.tablesorterPager({size:pagiQty,container:$pager})}}),0)}}))},cache:!1})}},table2:function(){var $tables=$(".table2-tbl");0!==$tables.length&&$.getScript("/st/js/ifr/table2.js").success((function(){$tables.table2()})).error((function(){console.log("Ошибка получения или парсинга скрипта table2.js")}))}},ridQuery:function(url,params,objToPutErr,opts){(opts=opts||{}).bApogAsync&&(opts.ridParam="RID",opts.ridResult="scheduled",opts.ridResponse="rid",opts.resultField="code",params.ASYNC_LAYER=1);var supports_LOADER=objToPutErr&&void 0!==objToPutErr.LOADER;supports_LOADER&&(objToPutErr.LOADER=!0);var supports_HUMAN_ERROR=!(!objToPutErr||"string"!=typeof objToPutErr.HUMAN_ERROR);supports_HUMAN_ERROR&&(objToPutErr.HUMAN_ERROR="");var supports_FETCH_SUCCESS=!(!objToPutErr||"boolean"!=typeof objToPutErr.FETCH_SUCCESS);supports_FETCH_SUCCESS&&(objToPutErr.FETCH_SUCCESS=!1);var supports_CAPTCHA_SHOW=!(!objToPutErr||void 0===objToPutErr.CAPTCHA_SHOW);supports_CAPTCHA_SHOW&&(objToPutErr.CAPTCHA_SHOW=!1);var serviceParams=UTIL.addServiceParams(url),bFailed=!1;opts.onlyID&&UTIL.ridQueryCancel(opts.onlyID);var myRequest=function requestRid(url,params,options){var ridParam=(options=options||{}).ridParam||"rid",ridResult=options.ridResult||"RID",ridResponse=options.ridResponse||"RID",err=options.err||"error",method=options.method||"post",resultField=options.resultField||"result",resultDeferred=$.Deferred(),ridTester=new RegExp("(\\?|\\&)"+ridParam+"=[^\\&]+"),bCancel=0;function iteration(){if(!bCancel){var requestDeferred=$.ajax({url:url,dataType:"json",data:params,type:method,beforeSend:function(jqXHR,settings){jqXHR._url=settings.url+"&"+settings.data,opts.useJson&&(jqXHR.setRequestHeader("Accept","application/json;charset=UTF-8"),jqXHR.setRequestHeader("Content-Type","application/json;charset=UTF-8"))}});resultDeferred.abort=resultDeferred.abort||function(){requestDeferred.abort()},requestDeferred.then((function(data,textStatus,jqXHR){bCancel||(options.bOnlyOneRequest&&"FAIL"!=data.code?resultDeferred.resolve(data,jqXHR):!data[err]&&"FAIL"!==data[resultField]||"null"==data[err]?data[resultField]===ridResult?(options.onIdle&&options.onIdle(data),setTimeout((function(){opts.useJson?ridTester.exec(url)||(url+=url.indexOf("?")<0?"?"+ridParam+"="+data.RID:"&"+ridParam+"="+data.RID):data[ridResponse]&&(params[ridParam]=data[ridResponse]),iteration()}),1e3)):resultDeferred.resolve(data,jqXHR):resultDeferred.reject(data[err],data,jqXHR))}),(function(jqXHR,textStatus,errorThrown){if(!bCancel){var msg="Request error";if("object"==typeof jqXHR&&jqXHR.statusText)msg="Status: "+("function"==typeof capitalize?capitalize(jqXHR.statusText):jqXHR.statusText)+", Code: "+jqXHR.status,jqXHR.url&&(msg+=", URL: "+jqXHR.url);resultDeferred.reject(msg,jqXHR,errorThrown)}}))}}return resultDeferred.cancel=function(){bCancel=1},iteration(),resultDeferred}(url+serviceParams,params,opts).fail((function(msg,fullRes){if(bFailed=!0,UTIL.log(msg,fullRes),msg&&-1!==msg.indexOf("parsererror")||"Status: Ok, Code: 200"===msg)if(window.PAGEDATA&&"MOBILE"===PAGEDATA.theme&&window.vueAuthInstance)window.vueAuthInstance.toggleForm(!0);else{var cookieJustRedirected=$.cookie&&!!$.cookie("JustRedirectedToSecure");if($.cookie&&!$.cookie("LtpaToken2")&&!1===cookieJustRedirected){UTIL.log("Пользователь не авторизован. Выполняетcя переход на секьюрный урл",secureUrl),$.cookie("JustRedirectedToSecure","true");var secureUrl=window.location.href.replace("/public/","/secure/");window.location.href=secureUrl}!0===cookieJustRedirected&&$.cookie("JustRedirectedToSecure",null)}else if(supports_CAPTCHA_SHOW&&fullRes&&fullRes.needCaptcha)objToPutErr.CAPTCHA_SHOW=!0;else if(supports_HUMAN_ERROR){var serverProvidedMsg=fullRes.detail||msg||"Произошла ошибка.";if(fullRes){var errInfo=fullRes.info||fullRes.errInfo,bHumanReadable=errInfo&&0===errInfo.indexOf("2040");errInfo&&(!0===window.PAGEDATA.showErrors||bHumanReadable)&&(bHumanReadable&&(errInfo=errInfo.replace("2040 (","").replace(/\)$/,"")),serverProvidedMsg+=" \n\n"+Lang.Details+":\n  "+errInfo),fullRes.timestamp&&(serverProvidedMsg+=" \n\n"+Lang.Error_time+":\n  "+fullRes.timestamp)}objToPutErr.HUMAN_ERROR=serverProvidedMsg}})).done((function(){supports_FETCH_SUCCESS&&(objToPutErr.FETCH_SUCCESS=!bFailed)})).always((function(){supports_LOADER&&(objToPutErr.LOADER=!1)}));return"FILE"===opts.bApogAsync&&myRequest.done((function(err,jqXHR,errorThrown){var url=jqXHR._url+"&ASYNC_FINAL=1";url=url.replace("/public/","/excel/");var iframe=document.createElement("iframe");iframe.style.display="none",document.body.appendChild(iframe),iframe.src=url})).fail((function(err,jqXHR,errorThrown){var msg="Произошла ошибка";0===jqXHR.responseText.indexOf("Произошла ошибка при создании")&&(msg=jqXHR.responseText),alert(msg),console.log(jqXHR.responseText,arguments)})),opts.onlyID&&(ridQueryCache[opts.onlyID]=myRequest),myRequest},ridQueryCancel:function(onlyID){ridQueryCache[onlyID]&&(ridQueryCache[onlyID].cancel(),UTIL.log("ridQuery with onlyID="+onlyID+" was cancelled."))},capitalizeEachWord:function(str){var delims=[" ","-","(","."];str=str.toLowerCase();for(var i=0;i<delims.length;i++)applyDelimCapitalization(delims[i]);return str;function applyDelimCapitalization(delim){for(var words=str.split(delim),i=0;i<words.length;i++)words[i]=words[i].charAt(0).toUpperCase()+words[i].slice(1);str=words.join(delim)}},copyToClipboard:function(){$(".j-copy").on("click",(function(){var text,$me=$(this),$input=$("<input/>").attr("type","textarea").appendTo("body"),idObjToCopy=$me.data("id");text=$("#"+idObjToCopy).text(),$input.val(text),console.log(text+"copied to clipboard"),$input.focus().select(),document.execCommand("copy"),$input.remove()}))},isSecurePassword:function(pass){return(pass.match(/[A-Z]/)&&pass.match(/[A-Z]/).length>0?1:0)+(pass.match(/[a-z]/)&&pass.match(/[a-z]/).length>0?1:0)+(pass.match(/[0-9]/)&&pass.match(/[0-9]/).length>0?1:0)+(pass.match(/[\.\-\_\?]/)&&pass.match(/[\.\-\_\?]/).length>0?1:0)>=3},regex:{loginRegistration:/(?!(^\d{16}$))(^(?![-.])(?!.*[--]{2})([a-zA-ZА-Яа-я0-9.\-?!№%_]){3,64}$)/,loginAuthentication:/(.*)/,email:/^([0-9a-zA-Z_]([-+.\w]*[0-9a-zA-Z_-])*@(([0-9a-zA-Z][-\w]*[0-9a-zA-Z]\.)|([a-zA-Z]\.))+[a-zA-Z]{2,9})$/,password:/^[A-Za-z0-9\.\-\_\?]{8,}$/,registrationFIO:/^(?!-|.*-$)^(?!.*--).*[A-Za-zА-Яа-яёЁ\u4E00-\uFA29\uE7C7-\uE7F3-]+$/,phoneForReceipt:/^\+(([71]\d{10})|((([2,3,4,5,6,9])|(8(?!9)))\d{7,13}))$/,captcha:/^\d{6}$/}};function datePickerLoc(options){function daysCopy(src){var i,dst=[];for(i=1;8!=i;i++)dst[i%7]=src[i-1];return dst}return $.extend({},{dateFormat:"dd.mm.yy",monthNames:window.Lang.Months,monthNamesShort:window.Lang.Months,dayNames:daysCopy(window.Lang.WeekDays),dayNamesMin:daysCopy(window.Lang.WeekDaysShort),firstDay:1},options)}window.datePickerLoc=datePickerLoc,"undefined"!=typeof window&&(window.UTIL?window.UTIL=$.extend(window.UTIL,UTIL):window.UTIL=UTIL,UTIL=window.UTIL),"function"==typeof define&&define.amd&&define(UTIL),document.addEventListener("DOMContentLoaded",(()=>{const checkbox=document.querySelector("#checkboxForm"),btn=document.querySelector("#getVideo");if(checkbox&&btn&&(initVideoChat(0),checkbox.addEventListener("change",(()=>{checkbox.checked?btn.removeAttribute("disabled"):btn.setAttribute("disabled","disabled")})),btn.addEventListener("click",(()=>{if(!btn.getAttribute("disabled")){if(!window.PAGEDATA.userIsAuthorized)return sessionStorage.setItem("AfterAuthAction","open_ttkVideoChat"),window.openAuth(),!1;initVideoChat(1e3)}})),window.PAGEDATA.userIsAuthorized)){if("open_ttkVideoChat"==sessionStorage.getItem("AfterAuthAction")){sessionStorage.removeItem("AfterAuthAction");let consultBlock=document.getElementById("consult").closest("button"),consultCheck=document.getElementById("checkboxForm"),consultButton=document.getElementById("getVideo");consultCheck.checked=!0,consultButton.removeAttribute("disabled"),consultBlock.classList.add("active"),initVideoChat(999)}}function initVideoChat(delay){setTimeout((()=>{console.log(delay,"запуск видеочата"),window.CALLSHARK.initVideoCall("#getVideo",(btn=>{btn.textContent="ПОЛУЧИТЬ ВИДЕОКОНСУЛЬТАЦИЮ"}))}),delay)}}))}();